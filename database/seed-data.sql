-- Seed data for Enterprise Sales CRM
-- Sample data for demonstration and testing

-- Insert demo users (password: 'demo123' hashed with bcrypt)
INSERT INTO users (id, tenant_id, email, password_hash, first_name, last_name, role_id, phone, is_active) VALUES
    ('30000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'admin@demo.crm.com', '$2b$10$rQZ9uJ7mPqJlVxKXNj3YP.eJ9X1WZoYd8qNcVxJlFzxLnF2HgYr4G', 'Admin', 'User', '10000000-0000-0000-0000-000000000002', '+1-555-0001', true),
    ('30000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', 'manager@demo.crm.com', '$2b$10$rQZ9uJ7mPqJlVxKXNj3YP.eJ9X1WZoYd8qNcVxJlFzxLnF2HgYr4G', 'Sarah', 'Johnson', '10000000-0000-0000-0000-000000000003', '+1-555-0002', true),
    ('30000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', 'rep1@demo.crm.com', '$2b$10$rQZ9uJ7mPqJlVxKXNj3YP.eJ9X1WZoYd8qNcVxJlFzxLnF2HgYr4G', 'Michael', 'Chen', '10000000-0000-0000-0000-000000000004', '+1-555-0003', true),
    ('30000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', 'rep2@demo.crm.com', '$2b$10$rQZ9uJ7mPqJlVxKXNj3YP.eJ9X1WZoYd8qNcVxJlFzxLnF2HgYr4G', 'Emily', 'Rodriguez', '10000000-0000-0000-0000-000000000004', '+1-555-0004', true),
    ('30000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', 'rep3@demo.crm.com', '$2b$10$rQZ9uJ7mPqJlVxKXNj3YP.eJ9X1WZoYd8qNcVxJlFzxLnF2HgYr4G', 'David', 'Kim', '10000000-0000-0000-0000-000000000004', '+1-555-0005', true);

-- Insert sample accounts
INSERT INTO accounts (id, tenant_id, name, website, industry, account_type, revenue, employee_count, address_line1, city, state, postal_code, country, phone, owner_id, tags) VALUES
    ('40000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'TechCorp Solutions', 'https://techcorp.com', 'Technology', 'customer', 5000000, 250, '123 Tech Street', 'San Francisco', 'CA', '94105', 'USA', '+1-555-1001', '30000000-0000-0000-0000-000000000003', ARRAY['enterprise', 'technology']),
    ('40000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', 'Global Manufacturing Inc', 'https://globalmanuf.com', 'Manufacturing', 'prospect', 12000000, 800, '456 Industrial Blvd', 'Detroit', 'MI', '48201', 'USA', '+1-555-1002', '30000000-0000-0000-0000-000000000004', ARRAY['manufacturing', 'large']),
    ('40000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', 'HealthTech Innovations', 'https://healthtech.com', 'Healthcare', 'prospect', 3000000, 150, '789 Medical Center Dr', 'Boston', 'MA', '02101', 'USA', '+1-555-1003', '30000000-0000-0000-0000-000000000003', ARRAY['healthcare', 'innovation']),
    ('40000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', 'RetailMax Chain', 'https://retailmax.com', 'Retail', 'customer', 8000000, 1200, '321 Commerce Ave', 'New York', 'NY', '10001', 'USA', '+1-555-1004', '30000000-0000-0000-0000-000000000005', ARRAY['retail', 'chain']),
    ('40000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', 'FinanceFirst Bank', 'https://financefirst.com', 'Financial Services', 'prospect', 25000000, 2000, '555 Wall Street', 'New York', 'NY', '10005', 'USA', '+1-555-1005', '30000000-0000-0000-0000-000000000004', ARRAY['finance', 'enterprise']);

-- Insert sample contacts
INSERT INTO contacts (id, tenant_id, account_id, first_name, last_name, email, phone, title, department, owner_id, is_primary, lead_source, tags) VALUES
    ('50000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', 'John', 'Smith', 'john.smith@techcorp.com', '+1-555-2001', 'CTO', 'Technology', '30000000-0000-0000-0000-000000000003', true, 'Website', ARRAY['decision-maker', 'technical']),
    ('50000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', 'Lisa', 'Wang', 'lisa.wang@techcorp.com', '+1-555-2002', 'VP of Engineering', 'Technology', '30000000-0000-0000-0000-000000000003', false, 'Referral', ARRAY['technical', 'influencer']),
    ('50000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000002', 'Robert', 'Brown', 'robert.brown@globalmanuf.com', '+1-555-2003', 'Operations Director', 'Operations', '30000000-0000-0000-0000-000000000004', true, 'Cold Call', ARRAY['operations', 'decision-maker']),
    ('50000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000003', 'Dr. Maria', 'Garcia', 'maria.garcia@healthtech.com', '+1-555-2004', 'Chief Medical Officer', 'Medical', '30000000-0000-0000-0000-000000000003', true, 'Conference', ARRAY['medical', 'c-level']),
    ('50000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000004', 'James', 'Wilson', 'james.wilson@retailmax.com', '+1-555-2005', 'IT Director', 'Information Technology', '30000000-0000-0000-0000-000000000005', true, 'Partner', ARRAY['it', 'existing-customer']),
    ('50000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000005', 'Amanda', 'Lee', 'amanda.lee@financefirst.com', '+1-555-2006', 'VP of Technology', 'Technology', '30000000-0000-0000-0000-000000000004', true, 'LinkedIn', ARRAY['finance', 'vp-level']);

-- Insert sample leads
INSERT INTO leads (id, tenant_id, first_name, last_name, email, phone, company, title, source, status, rating, owner_id, tags) VALUES
    ('60000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'Jennifer', 'Taylor', 'jennifer.taylor@startup.com', '+1-555-3001', 'StartupCorp', 'CEO', 'Website Form', 'new', 'hot', '30000000-0000-0000-0000-000000000003', ARRAY['startup', 'ceo']),
    ('60000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', 'Thomas', 'Anderson', 'thomas.anderson@midsize.com', '+1-555-3002', 'MidsizeCorp', 'IT Manager', 'Cold Call', 'qualified', 'warm', '30000000-0000-0000-0000-000000000004', ARRAY['it', 'manager']),
    ('60000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', 'Susan', 'Clark', 'susan.clark@enterprise.com', '+1-555-3003', 'EnterpriseCorp', 'VP of Sales', 'Trade Show', 'contacted', 'hot', '30000000-0000-0000-0000-000000000005', ARRAY['enterprise', 'sales']),
    ('60000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', 'Mark', 'Thompson', 'mark.thompson@consulting.com', '+1-555-3004', 'ConsultingFirm', 'Partner', 'Referral', 'new', 'warm', '30000000-0000-0000-0000-000000000003', ARRAY['consulting', 'partner']),
    ('60000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', 'Rachel', 'Martinez', 'rachel.martinez@nonprofit.org', '+1-555-3005', 'NonProfit Org', 'Executive Director', 'Social Media', 'nurturing', 'cold', '30000000-0000-0000-0000-000000000004', ARRAY['nonprofit', 'director']);

-- Insert sample opportunities
INSERT INTO opportunities (id, tenant_id, account_id, name, amount, stage_id, probability, expected_close_date, lead_source, owner_id, tags) VALUES
    ('70000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', 'TechCorp Platform Upgrade', 125000.00, '20000000-0000-0000-0000-000000000003', 50, '2024-03-15', 'Existing Customer', '30000000-0000-0000-0000-000000000003', ARRAY['upgrade', 'platform']),
    ('70000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000002', 'Manufacturing ERP Implementation', 450000.00, '20000000-0000-0000-0000-000000000002', 25, '2024-04-30', 'Cold Call', '30000000-0000-0000-0000-000000000004', ARRAY['erp', 'implementation']),
    ('70000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000003', 'HealthTech Digital Transformation', 275000.00, '20000000-0000-0000-0000-000000000004', 75, '2024-02-28', 'Conference', '30000000-0000-0000-0000-000000000003', ARRAY['digital', 'transformation']),
    ('70000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000004', 'RetailMax Analytics Suite', 85000.00, '20000000-0000-0000-0000-000000000005', 100, '2024-01-31', 'Partner', '30000000-0000-0000-0000-000000000005', ARRAY['analytics', 'closed-won']),
    ('70000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000005', 'FinanceFirst Security Upgrade', 650000.00, '20000000-0000-0000-0000-000000000001', 10, '2024-06-30', 'LinkedIn', '30000000-0000-0000-0000-000000000004', ARRAY['security', 'enterprise']);

-- Insert sample activities
INSERT INTO activities (id, tenant_id, user_id, type, subject, description, duration, status, priority, parent_type, parent_id, completed_at) VALUES
    ('80000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000003', 'call', 'Discovery Call with TechCorp', 'Discussed current platform challenges and future requirements. John mentioned they need better scalability.', 45, 'completed', 'high', 'opportunity', '70000000-0000-0000-0000-000000000001', CURRENT_TIMESTAMP - INTERVAL '2 days'),
    ('80000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004', 'email', 'Follow-up on ERP Demo', 'Sent detailed proposal following last weeks demo. Attached technical specifications and timeline.', null, 'completed', 'medium', 'opportunity', '70000000-0000-0000-0000-000000000002', CURRENT_TIMESTAMP - INTERVAL '1 day'),
    ('80000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000003', 'meeting', 'HealthTech Stakeholder Meeting', 'Met with CMO and IT team to discuss integration requirements. Very positive reception.', 90, 'completed', 'high', 'opportunity', '70000000-0000-0000-0000-000000000003', CURRENT_TIMESTAMP - INTERVAL '3 days'),
    ('80000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000005', 'call', 'RetailMax Implementation Planning', 'Discussed go-live timeline and training requirements. All systems go for January launch.', 30, 'completed', 'medium', 'opportunity', '70000000-0000-0000-0000-000000000004', CURRENT_TIMESTAMP - INTERVAL '1 day'),
    ('80000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004', 'email', 'FinanceFirst Security Requirements', 'Sent compliance documentation and security certifications as requested by their IT team.', null, 'completed', 'high', 'opportunity', '70000000-0000-0000-0000-000000000005', CURRENT_TIMESTAMP - INTERVAL '4 hours');

-- Insert sample tasks
INSERT INTO tasks (id, tenant_id, assigned_to, assigned_by, subject, description, due_date, priority, status, parent_type, parent_id) VALUES
    ('90000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000002', 'Prepare TechCorp proposal', 'Create detailed proposal including pricing, timeline, and technical specifications', CURRENT_TIMESTAMP + INTERVAL '2 days', 'high', 'open', 'opportunity', '70000000-0000-0000-0000-000000000001'),
    ('90000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004', '30000000-0000-0000-0000-000000000002', 'Schedule Manufacturing demo', 'Set up technical demo with Global Manufacturing stakeholders', CURRENT_TIMESTAMP + INTERVAL '1 week', 'medium', 'open', 'opportunity', '70000000-0000-0000-0000-000000000002'),
    ('90000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000002', 'HealthTech contract review', 'Review contract terms with legal team before sending to customer', CURRENT_TIMESTAMP + INTERVAL '3 days', 'high', 'in_progress', 'opportunity', '70000000-0000-0000-0000-000000000003'),
    ('90000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000002', 'RetailMax go-live preparation', 'Coordinate with implementation team for January launch', CURRENT_TIMESTAMP + INTERVAL '1 day', 'high', 'open', 'opportunity', '70000000-0000-0000-0000-000000000004'),
    ('90000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004', '30000000-0000-0000-0000-000000000002', 'Follow up on FinanceFirst security questions', 'Address remaining security concerns raised by their CISO', CURRENT_TIMESTAMP + INTERVAL '5 days', 'medium', 'open', 'opportunity', '70000000-0000-0000-0000-000000000005');

-- Insert sample notes
INSERT INTO notes (id, tenant_id, author_id, parent_type, parent_id, content, is_private) VALUES
    ('95000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000003', 'account', '40000000-0000-0000-0000-000000000001', 'TechCorp is experiencing rapid growth and needs scalable solutions. They have budget allocated for Q1 upgrades.', false),
    ('95000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004', 'account', '40000000-0000-0000-0000-000000000002', 'Global Manufacturing is comparing multiple vendors. Price is important but they value long-term support.', false),
    ('95000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000003', 'contact', '50000000-0000-0000-0000-000000000004', 'Dr. Garcia is the key decision maker for medical technology purchases. Very detail-oriented and compliance-focused.', true),
    ('95000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000005', 'lead', '60000000-0000-0000-0000-000000000003', 'Susan mentioned they are evaluating multiple CRM solutions. Timeline is aggressive - need decision by end of month.', false),
    ('95000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004', 'opportunity', '70000000-0000-0000-0000-000000000005', 'FinanceFirst has strict security requirements due to regulatory compliance. Need to involve our security team early.', false);

-- Insert sample custom fields
INSERT INTO custom_fields (id, tenant_id, entity_type, field_key, field_label, field_type, config, is_required) VALUES
    ('A0000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'account', 'annual_contract_value', 'Annual Contract Value', 'number', '{"min": 0, "max": 10000000, "currency": "USD"}', false),
    ('A0000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', 'contact', 'preferred_contact_method', 'Preferred Contact Method', 'picklist', '{"options": ["Email", "Phone", "LinkedIn", "Text"]}', false),
    ('A0000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', 'opportunity', 'competition', 'Primary Competition', 'picklist', '{"options": ["Salesforce", "HubSpot", "Microsoft", "Oracle", "Custom Solution", "None"]}', false),
    ('A0000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', 'lead', 'budget_range', 'Budget Range', 'picklist', '{"options": ["< $50K", "$50K - $100K", "$100K - $250K", "$250K - $500K", "> $500K"]}', false);

-- Insert sample audit logs
INSERT INTO audit_logs (id, tenant_id, user_id, action, resource_type, resource_id, before_data, after_data, ip_address, user_agent) VALUES
    ('B0000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000003', 'UPDATE', 'opportunity', '70000000-0000-0000-0000-000000000001', '{"stage_id": "20000000-0000-0000-0000-000000000002"}', '{"stage_id": "20000000-0000-0000-0000-000000000003"}', '192.168.1.100', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'),
    ('B0000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004', 'CREATE', 'activity', '80000000-0000-0000-0000-000000000002', null, '{"type": "email", "subject": "Follow-up on ERP Demo"}', '192.168.1.101', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36'),
    ('B0000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000001', 'LOGIN', 'user', '30000000-0000-0000-0000-000000000001', null, '{"login_method": "password", "success": true}', '192.168.1.1', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15');